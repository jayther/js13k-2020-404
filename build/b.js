!function(o,i){var w={t:"Mail Delivery",width:640,height:360,minMailableRooms:2,maxMailableRoomRate:.25,minMissingPeople:5,maxMissingPeople:10},Y={i:{s:"robot_3Dblue.png"},n:{e:"repeat",o:"repeat",r:"repeat"},a:{},f:{}};function X(t,i){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(t),s=1;s<arguments.length;s++){var n=arguments[s];if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(h[e]=n[e])}return h}function t(){return X.apply(this,[{}].concat(Array.prototype.slice.call(arguments)))}function e(t,i){return Object.prototype.hasOwnProperty.call(t,i)}var h,r=(h={},{c:function(t){return h[t]||(h[t]=i.getElementById(t)),h[t]},create:function(t){return i.createElement(t)}});function a(h,s){var n={},t={u:function(t){var i=t.keyCode;e(n,i)||(n[i]=!1),n[i]||h(i),n[i]=!0,t.preventDefault()},l:function(t){var i=t.keyCode;e(n,i)||(n[i]=!1),n[i]&&s(i),n[i]=!1,t.preventDefault()},v:function(){o.removeEventListener("keydown",t.u,!1),o.removeEventListener("keyup",t.l,!1)}};return o.addEventListener("keydown",t.u,!1),o.addEventListener("keyup",t.l,!1),t}a.keys={p:65,w:87,d:83,m:68,b:90,M:81,left:37,g:38,right:39,k:40,A:32,D:13};var T=null;T={S:function(t,i){return t+Math.random()*(i-t)},j:function(t,i){return Math.floor(T.S(t,i))},F:function(t){return t[T.j(0,t.length)]},O:function(t){var i=T.j(0,t.length),h=t[i];return t.splice(i,1),h},C:function(t){for(var i=[],h=0;0<t;)1&t&&i.push(1<<h),t>>=1,h+=1;return 0<i.length?T.F(i):0}};var W={P:function(t,i,h){return t<i?i:h<t?h:t},I:function(t,i){return t.left<i.right&&t.right>i.left&&t.top<i.bottom&&t.bottom>i.top},R:function(t){return Math.atan2(t.y,t.x)},Y:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},X:function(t,i){var h=Math.cos(i),s=Math.sin(i);return{x:t.x*h-t.y*s,y:t.x*s+t.y*h}},T:function(t,i,h){if(0===h)return{left:t.left,top:t.top,right:t.right,bottom:t.bottom};var s,n,e=t.right-t.left,o=t.bottom-t.top,r=h/360*Math.PI*2;return 90!==h&&270!==h||(n=e,e=o,o=n),(s=90===h?{x:t.left,y:t.bottom}:180===h?{x:t.right,y:t.bottom}:{x:t.right,y:t.top}).x-=i.x,s.y-=i.y,s=W.X(s,r),{left:i.x+s.x,top:i.y+s.y,right:i.x+s.x+e,bottom:i.y+s.y+o}}};function z(t,i,h,s){this.x=t||0,this.y=i||0,this.W=h||0,this.z=s||0}function d(t){this.H=X({N:null,B:null,from:0,V:1,_:1,q:d.L.G,Q:null,U:null},t||{}),this.Z=-1,this.J=-1,this.K=!1}function f(){this.$=0,this.tt=[]}function s(t){var i=X({x:0,y:0,it:1,ht:1,angle:0,st:!0,alpha:1,nt:0,et:0},t||{});this.ot=null,this.x=i.x,this.y=i.y,this.it=i.it,this.ht=i.ht,this.angle=i.angle,this.st=i.st,this.alpha=i.alpha,this.nt=i.nt,this.et=i.et}function c(t){s.apply(this,arguments),this.rt=[]}function H(t){s.apply(this,arguments);var i=X({w:0,h:0,at:"black",ft:0,ct:0,ut:0,lt:1,wt:1},t||{});this.ft=i.ft,this.w=i.w,this.h=i.h,this.ct=i.ct,this.ut=i.ut,this.lt=i.lt,this.wt=i.wt,this.at=i.at}function u(t){s.apply(this,arguments);var i=X({w:0,h:0,vt:null},t||{});this.w=i.w,this.h=i.h,this.vt=i.vt,this.w&&!i.it&&(this.it=this.w/this.vt.width),this.h&&!i.ht&&(this.ht=this.h/this.vt.height)}function l(t){s.apply(this,arguments);var i=X({pt:"",dt:"left",yt:"top",font:null,at:"black"},t||{});this.at=i.at,this.pt=i.pt,this.dt=i.dt,this.yt=i.yt,this.font=i.font}function n(t){s.apply(this,arguments);var i=X({mt:[],at:"black"},t||{});this.mt=i.mt,this.at=i.at}function v(t){c.apply(this,arguments);var i=X({w:100,h:100},t||{});this.xt=r.create("canvas"),this.xt.width=i.w,this.xt.height=i.h,this.bt=this.xt.getContext("2d")}function p(t,i,h,s,n){var e,o=[],r=s/(h-1);for(e=0;e<h;e+=1)o.push({x:e*r,y:t+i-n/2}),i*=-1;for(i*=-1,e=h-1;0<=e;e-=1)o.push({x:e*r,y:t+i+n/2}),i*=-1;return o}z.Mt=function(t){return new z((t.left+t.right)/2,(t.top+t.bottom)/2,(t.right-t.left)/2,(t.bottom-t.top)/2)},(z.prototype={}).gt=function(t,i){this.x=t||0,this.y=i||0},z.prototype.kt=function(){return this.x-this.W},z.prototype.At=function(){return this.y-this.z},z.prototype.Dt=function(){return this.x+this.W},z.prototype.St=function(){return this.y+this.z},z.prototype.jt=function(){return 2*this.W},z.prototype.Ft=function(){return 2*this.z},z.prototype.Ot=function(t){return Math.abs(this.x-t.x)<this.W+t.W&&Math.abs(this.y-t.y)<this.z+t.z},z.prototype.Ct=function(t,i){return Math.abs(this.x-t)<this.W&&Math.abs(this.y-i)<this.z},z.prototype.Pt=function(){return new z(this.x,this.y,this.W,this.z)},z.prototype.Et=function(t){return this.W+=t,this.z+=t,this},z.prototype.It=function(t,i){var h,s=i/360*Math.PI*2;90!==i&&270!==i||(h=this.W,this.W=this.z,this.z=h);var n=W.X({x:this.x-t.x,y:this.y-t.y},s);return this.x=t.x+n.x,this.y=t.y+n.y,this},z.prototype.Rt=function(){return{left:this.x-this.W,top:this.y-this.z,right:this.x+this.W,bottom:this.y+this.z}},z.prototype.Yt=function(){return{x:this.x-this.W,y:this.y-this.z,w:2*this.W,h:2*this.z}},d.L={G:function(t){return t},Xt:function(t){return t*t*t},Tt:function(t){return--t*t*t+1},Wt:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1}},d.prototype={zt:function(t){this.Z=t,this.J=t+this.H._},Ht:function(t){if(this.H.N&&this.H.B||this.H.Q){var i=(t-this.Z)/this.H._;1<i&&(i=1);var h=this.H.q(i),s=this.H.from+(this.H.V-this.H.from)*h;this.H.N&&this.H.B&&(this.H.N[this.H.B]=s),this.H.Q&&this.H.Q(s)}},Nt:function(){this.K=!0}},f.Bt=null,f.prototype={Vt:function(t){t.zt(this.$),this.tt.push(t)},Ht:function(t){var i,h,s;for(i=0;i<this.tt.length;i+=1)s=!1,(h=this.tt[i]).K||h.Ht(this.$),h.K?s=!0:this.$>=h.J&&(h.H.U&&h.H.U(),s=!0),s&&(this.tt.splice(i,1),i-=1);this.$+=t}},c.prototype=t(s.prototype={_t:function(t){this.it=t,this.ht=t},qt:function(t){this.st&&.01<=this.alpha&&(t.save(),(this.x||this.y)&&t.translate(this.x,this.y),1===this.it&&1===this.ht||t.scale(this.it,this.ht),this.angle&&t.rotate(this.angle),(this.nt||this.et)&&t.translate(-this.nt,-this.et),this.alpha<1&&(t.globalAlpha*=this.alpha),this.Gt(t),t.restore())},Gt:function(t){}},{Lt:function(t){return this.rt.push(t),t.ot=this},Qt:function(t){var i=this.rt.indexOf(t);return 0<=i&&(this.rt.splice(i,1),t.ot=null),this},Gt:function(t){for(var i=0;i<this.rt.length;i+=1)this.rt[i].qt(t)}}),H.prototype=t(s.prototype,{Gt:function(t){if(t.fillStyle=this.at,this.ft){var i=this.ft,h=this.w,s=this.h;t.beginPath(),t.moveTo(i,0),t.lineTo(h-i,0),t.arcTo(h,0,h,i,i),t.lineTo(h,s-i),t.arcTo(h,s,h-i,s,i),t.lineTo(i,s),t.arcTo(0,s,0,s-i,i),t.lineTo(0,i),t.arcTo(0,0,i,0,i),t.closePath(),(this.ct||this.ut)&&t.translate(this.ct,this.ut),1===this.lt&&1===this.wt||t.scale(this.lt,this.wt),t.fill()}else t.beginPath(),t.rect(0,0,this.w,this.h),t.closePath(),(this.ct||this.ut)&&t.translate(this.ct,this.ut),1===this.lt&&1===this.wt||t.scale(this.lt,this.wt),t.fill()}}),u.prototype=t(s.prototype,{Gt:function(t){t.drawImage(this.vt,0,0)}}),l.prototype=t(s.prototype,{Gt:function(t){this.font&&(t.font=this.font),t.textAlign=this.dt,t.textBaseline=this.yt,t.fillStyle=this.at,t.fillText(this.pt,0,0)}}),n.prototype=t(s.prototype,{Gt:function(t){var i,h;for(t.beginPath(),i=0;i<this.mt.length;i+=1)h=this.mt[i],0===i?t.moveTo(h.x,h.y):t.lineTo(h.x,h.y);t.closePath(),t.fillStyle=this.at,t.fill()}}),v.prototype=t(c.prototype,{Ut:function(t,i){this.xt.width=t,this.xt.height=i},Lt:function(t){c.prototype.Lt.apply(this,arguments),this.Zt()},Qt:function(t){c.prototype.Qt.apply(this,arguments),this.Zt()},Zt:function(){this.bt.clearRect(0,0,this.xt.width,this.xt.height);for(var t=0;t<this.rt.length;t+=1)this.rt[t].qt(this.bt)},Gt:function(t){t.drawImage(this.xt,0,0)}});var y,m,x,b=((y=new v({w:70,h:70})).Lt(new H({w:70,h:70,at:"#c99869"})),y.Lt(new n({mt:p(25,5,7,70,16),at:"#c58f5c"})),y.Lt(new n({mt:p(55,5,7,70,16),at:"#c58f5c"})),y),M=((m=new v({w:70,h:70})).Lt(new H({w:70,h:70,at:"#838796"})),m.Lt(new n({mt:p(25,5,7,70,24),at:"#7e8291"})),m.Lt(new n({mt:p(55,5,7,70,16),at:"#7e8291"})),m),g=((x=new v({w:70,h:70})).Lt(new H({w:70,h:70,at:"#acc0c1"})),x.Lt(new n({mt:p(25,5,7,70,16),at:"#bbcbcc"})),x.Lt(new n({mt:p(55,5,7,70,16),at:"#bbcbcc"})),x);function N(t,i){this.Jt=t,this.left=i.left,this.top=i.top,this.right=i.right,this.bottom=i.bottom,this.Kt=0,this.$t=[],this.ti=[],this.ii=!1,this.hi=null,this.si=0,this.ni=!1,this.ei={x:0,y:0}}function k(t,i,h,s,n,e,o){this.Jt=k.oi++,this.Kt=t,this.ri=o;var r=i-s/2,a=h;this.ai=new z((i+r)/2,(h+a)/2,(s+e/2)/2+k.fi,(n+e/2)/2+k.fi),this.ci=new H({x:this.ai.x,y:this.ai.y,w:2*this.ai.W,h:2*this.ai.z,st:!1,at:"#00cc00",alpha:.5,nt:this.ai.W,et:this.ai.z}),this.ui=[this.ci,new H({x:i-s/2,y:h-n/2,w:s,h:n,at:"#990000"}),new H({x:i-s/2-e/2,y:h-e/2,w:e,h:e,at:"#990000"})],this.ni=!1,this.li=-1,this.wi=-1,this.vi=null,this.pi=null,this.di=null,this.yi=null,this.mi=null,this.xi=!1,this.bi=null}function B(){c.apply(this,arguments),this.Mi={},this.gi=20,this.ki=1e3,this.Ai=20,this.Di=20,this.Si=100,this.ji=12,this.Fi=12,this.Oi=2,this.Ci=0,this.Pi=0,this.Ei=[],this.Ii=[],this.Ri=null,this.Yi=[],this.Xi=0,this.Ti=0,this.Wi=new v,this.Lt(this.Wi)}function A(t,i){c.call(this,i),this.pi=t;var h=X({vi:null},i||{});this.zi=new z(0,0,10,10),this.Hi=new z(0,0,10,10),this.Ni=new z(0,0,10,10),this.Bi=200,this.Vi=4,this._i={x:0,y:0},this.qi={x:0,y:0},this.Gi={x:0,y:0},this.vi=h.vi,this.Li=null;var s=new u({vt:Y.a.s,w:19,h:20,nt:74,et:77});this.Lt(s),this.vt=s,this.Qi=!0,this.Ui=!0,this.Zi=0}function D(t){H.call(this,X({at:"#eeeeee",w:20,h:10,nt:10,et:5},t||{}))}function S(t,i,h,s,n){var e=new c({x:t,y:i});this.Ji=e,this.xi=!1,this.Ki=s||0,this.$i=n;var o=new H({x:-20,y:-5,w:40,h:25,at:"#cccccc",ft:5});e.Lt(o),this.th=o;var r=new c({x:0,y:5});this.ih=r,e.Lt(r);var a=new H({x:-20,y:-40,w:40,h:40,at:"#ffffff",ft:5});r.Lt(a);var f=new l({x:0,y:-20,pt:h,font:"20px Arial",at:"black",dt:"center",yt:"middle"});r.Lt(f),this.hh=f,this.tt=[]}function j(t,i){c.call(this),this.sh=t,this.H=i,this.nh=[]}function F(){j.apply(this,arguments),this.eh=[],this.oh=[],this.rh=[],this.ah=[],this.fh={},this.ch=[],this.uh=F.wh.lh,this.vh=90,this.ph=3,this.dh=null,this.yh={mh:60,xh:70,bh:60,Mh:70},this.Ci=T.j(this.yh.mh,this.yh.xh),this.Pi=T.j(this.yh.bh,this.yh.Mh);var t=new H({w:w.width,h:w.height,at:"#333333"});if(this.Lt(t),this.vi=new B,this.Lt(this.vi),this.vi.gh(this.Ci,this.Pi),this.vi.kh(),this.vi.Ah(),this.vi.it=2,this.vi.ht=2,this.Dh=new c({x:w.width/2,y:w.height/2}),this.Lt(this.Dh),this.Sh=new l({pt:"...",x:5,y:5,dt:"left",yt:"top",font:"16px Arial",at:"#ffffff"}),this.Lt(this.Sh),this.jh=new l({pt:"Time left: "+this.vh+"s",x:5,y:25,dt:"left",yt:"top",font:"16px Arial",at:"#ffffff"}),this.Lt(this.jh),this.Fh=new c({x:5,y:45}),this.Lt(this.Fh),this.Oh(),this.Ch=!1,this.Ch){var i=this.vi.Ci*this.vi.gi,h=this.vi.Pi*this.vi.gi;i/h>w.width/w.height?this.vi.it=this.vi.ht=w.width/i:this.vi.it=this.vi.ht=w.height/h,this.vi.Ei.forEach(function(t){t.hi.st=!1}),this.vi.Ii[0].hi.st=!1}this.Ph=new A(this,{vi:this.vi}),this.vi.Lt(this.Ph);var s=this.vi.Ri;this.Ph.x=(s.left+s.right)/2*this.vi.gi,this.Ph.y=(s.top+s.bottom)/2*this.vi.gi,this.Ph.Eh(),this.keys=[],this.Ih={},this.Ih[B.Rh.left]=[a.keys.p,a.keys.M,a.keys.left],this.Ih[B.Rh.top]=[a.keys.w,a.keys.b,a.keys.g],this.Ih[B.Rh.right]=[a.keys.m,a.keys.right],this.Ih[B.Rh.bottom]=[a.keys.d,a.keys.k];var n={};Object.entries(this.Ih).forEach(function(i){i[1].forEach(function(t){n[t]=i[0]})}),this.Yh=n,this.Xh=a(this.Th.bind(this),this.Wh.bind(this)),this.zh=new c,this.Lt(this.zh),this.Hh=new H({at:"#000000",alpha:.7,w:w.width,h:w.height}),this.zh.Lt(this.Hh),this.Nh=new l({pt:"You have "+this.vh+" seconds to deliver all the mail!",font:"24px Arial",at:"#ffffff",x:w.width/2,y:w.height/2-5,dt:"center",yt:"bottom"}),this.zh.Lt(this.Nh),this.Bh=new l({pt:"Follow the pointers to go to the rooms that need mail.",font:"20px Arial",at:"#ffffff",x:w.width/2,y:w.height/2+5,dt:"center",yt:"top"}),this.zh.Lt(this.Bh),this.Vh=new l({pt:"Press any movement keys to start",font:"20px Arial",at:"#ffffff",x:w.width/2,y:w.height/2+30,dt:"center",yt:"top"}),this.zh.Lt(this.Vh),this._h(this.qh.bind(this))}function O(t,i){return t.concat(i.$t.filter(function(t){return t.Kt===B.Lh.Gh||t.Kt===B.Lh.Qh}))}function C(t){t.ni=!0,t.Uh(!0)}function P(t){var i=new c,h=new n({x:150,y:0,mt:[{x:20,y:0},{x:-15,y:-10},{x:-15,y:10}],at:t});return i.Lt(h),i.Zh=function(t){h.x=10+(W.P(t,50,400)-50)/350*140},i}function E(){j.apply(this,arguments),this.$=0,this.Jh=2,this.Kh=.5,this.$h=1.5,this.ts=T.S(this.Kh,this.$h),this.hs=[],this.ss=new H({w:w.width,h:w.height,at:Y.f.e,lt:5,wt:5}),this.Lt(this.ss),this.ns=new c,this.Lt(this.ns),this.s=new u({vt:Y.a.s,x:170,y:w.height/2,w:148,h:154,nt:74,et:77}),this.Lt(this.s);var t=new l({pt:"Employee Not Found",font:"32px Arial",x:420,y:100,dt:"center",yt:"middle",at:"white"});this.Lt(t);var i=new c({x:420,y:190});this.Lt(i);var h=new l({pt:"Controls:",font:"24px Arial",x:0,y:-40,dt:"center",yt:"bottom",at:"white"});i.Lt(h);var s=this.es=[new S(0,0,"W",0,this.sh.$i),new S(-45,45,"A",.125,this.sh.$i),new S(0,45,"S",.25,this.sh.$i),new S(45,45,"D",.375,this.sh.$i)];this.es.forEach(function(t){i.Lt(t.Ji),t.zt()});var n=new l({pt:"Press any of these keys to start",font:"18px Arial",x:0,y:70,dt:"center",yt:"top",at:"white"});i.Lt(n);var e=[["W","A","S","D"],["↑","←","↓","→"],["Z","Q","S","D"]],o=0;this.os=setInterval(function(){e.length<=(o+=1)&&(o=0),s.forEach(function(t,i){t.hh.pt=e[o][i]})},1e3);var r=[a.keys.p,a.keys.w,a.keys.d,a.keys.m,a.keys.M,a.keys.b,a.keys.left,a.keys.g,a.keys.right,a.keys.k];this.Xh=a(function(){},function(i){r.some(function(t){return t===i})&&this.sh.rs(new F(this.sh))}.bind(this)),this._h(this.qh.bind(this))}function I(){j.apply(this,arguments),this.i=[],this.as=!1,this.fs=new l({x:w.width/2,y:w.height/2,pt:"0%",at:"black",dt:"center",yt:"middle",font:"32px Arial"}),this.Lt(new H({w:w.width,h:w.height,at:"#777777"})),this.Lt(this.fs)}function R(){this.Ht=this.Ht.bind(this),this.cs=r.c("root");var t=r.create("canvas");t.width=w.width,t.height=w.height,this.cs.appendChild(t),this.us=Y,this.xt=t,this.bt=t.getContext("2d"),this.bt.font="16px Arial",this.$i=new f,f.Bt=this.$i,this.pi=new I(this),this.$=0,this.ls=this.ls.bind(this),o.addEventListener("resize",this.ws.bind(this),!1),this.ws(),this.Ht(0),this.pi.create()}Y.a.e=b.xt,Y.a.r=M.xt,Y.a.o=g.xt,N.prototype={},k.oi=0,k.fi=5,k.prototype={vs:function(h,t){var s=t/360*Math.PI*2;this.ui.forEach(function(t){var i=W.X({x:t.x-h.x,y:t.y-h.y},s);t.x=h.x+i.x,t.y=h.y+i.y,t.angle=s}),this.ai.It(h,t)},Uh:function(t){(this.ci.st=t)?this.ps():this.ds()},ps:function(){var t,i;this.bi&&this.bi.Nt(),this.xi=!0,t=new d({from:1,V:.8,_:.5,q:d.L.Xt,Q:function(t){this.ci._t(t)}.bind(this),U:function(){this.xi&&(f.Bt.Vt(i),this.bi=i)}.bind(this)}),i=new d({from:.8,V:1,_:.5,q:d.L.Tt,Q:function(t){this.ci._t(t)}.bind(this),U:function(){this.xi&&(f.Bt.Vt(t),this.bi=t)}.bind(this)}),f.Bt.Vt(t)},ds:function(){this.xi=!1,this.bi&&(this.bi.Nt(),this.bi=null)},ys:function(t){if(this.ni=!1,this.ui.forEach(function(t){null===this.vi&&(this.vi=t.ot)},this),this.Uh(!1),-1===this.li){var i=new D({x:t.x,y:t.y,angle:T.S(0,2*Math.PI)});this.vi.Lt(i);var h=new d({N:i,B:"x",from:t.x,V:this.ai.x,_:.5,q:d.L.Xt}),s=new d({N:i,B:"y",from:t.y,V:this.ai.y,_:.5,q:d.L.Xt,U:function(){this.vi.Qt(i)}.bind(this)}),n=new d({N:i,B:"angle",from:i.angle,V:i.angle+T.S(-Math.PI,Math.PI),_:.5});f.Bt.Vt(h),f.Bt.Vt(s),f.Bt.Vt(n),-1!==this.wi&&this.mi&&this.mi(this)}else this.yi&&this.yi(this);this.di&&this.di(this)}},B.ms={xs:1,bs:2,Ms:3,gs:4},B.ks=[{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:0,y:0},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],B.As={Ds:1,Ss:3,js:4,Fs:5},B.Lh={Gh:1,Qh:2,Os:5},B.Rh={right:1,bottom:2,left:4,top:8},B.Cs={width:40,Ps:20,Es:20,Kt:B.Lh.Gh},B.Is={width:85,Ps:20,Es:20,Rs:5,Kt:B.Lh.Qh},B.Ys={width:80,Ps:20,Es:20,Rs:10,Kt:B.Lh.Gh},B.Xs={width:40,Ps:20,Es:20,Kt:B.Lh.Gh},B.prototype=t(c.prototype,{gh:function(t,i){var h,s,n,e,o,r,a=t,f=i;for(this.Wi.Ut(a*this.gi,f*this.gi),this.Wi.Lt(new H({x:0*this.gi,y:0*this.gi,w:a*this.gi,h:f*this.gi,at:Y.f.r})),this.Wi.Lt(new H({x:1*this.gi,y:1*this.gi,w:(a-2)*this.gi,h:(f-2)*this.gi,at:Y.f.e})),this.Ci=a,this.Pi=f,h=0;h<a;h+=1)this.Ts(h,0,B.ms.bs),this.Ts(h,f-1,B.ms.bs);for(h=0;h<f;h+=1)this.Ts(0,h,B.ms.bs),this.Ts(a-1,h,B.ms.bs);for(var c,u,l,w,v,p,d,y=T.j(0,2),m={left:1,top:1,right:a-1,bottom:f-1,Ws:y},x=[m],b=[],M=[],g=0,k=0,A=this.Ai,D=this.Di,S=this.ki;0<x.length&&g<1e4;)if(u=X({},m=x.shift()),l=null,d=0===(y=m.Ws)?(p="right","left"):(p="bottom","top"),0===k?(v=X({},m),3,l=X({},m),c=T.j(m[d]+A/2,m[p]-A/2),u[p]=c-this.Oi/2-1,l[d]=c+this.Oi/2+1,v[p]=c+this.Oi/2,v[d]=c-this.Oi/2,v.zs=!0,b.push(v)):(l=X({},m),c=T.j(m[d]+A/2,m[p]-A/2),u[p]=c,l[d]=c+1),n=u.right-u.left,e=u.bottom-u.top,A<n&&D<e&&S<n*e?(u.Ws=0===k?y?0:1:e<n?0:1,x.push(u)):M.push(u),l&&(n=l.right-l.left,e=l.bottom-l.top,A<n&&D<e&&D<n*e?(l.Ws=0===k?y?0:1:e<n?0:1,x.push(l)):M.push(l)),g+=1,0===k&&0===x.length)for(k+=1,A=this.ji,D=this.Fi,S=this.Si,h=M.length-1;0<=h;h-=1)n=(u=M[h]).right-u.left,e=u.bottom-u.top,A<n&&D<e&&S<n*e&&(u.Ws=e<n?0:1,x.push(u),M.splice(h,1));if(1e4<=g)throw new Error("Infinite loop in partitioning");for(this.Ii=b,h=0;h<b.length;h+=1)for(n=(v=b[h]).left;n<v.right;n+=1)for(e=v.top;e<v.bottom;e+=1)this.Ts(n,e,B.ms.xs,v);var j,F=[];for(h=0;h<M.length;h+=1){for(m=M[h],this.Wi.Lt(new H({x:(m.left-1)*this.gi,y:(m.top-1)*this.gi,w:(m.right-m.left+2)*this.gi,h:(m.bottom-m.top+2)*this.gi,at:Y.f.r})),this.Wi.Lt(new H({x:m.left*this.gi,y:m.top*this.gi,w:(m.right-m.left)*this.gi,h:(m.bottom-m.top)*this.gi,at:Y.f.o})),n=m.left-1;n<m.right+1;n+=1)this.Ts(n,m.top-1,B.ms.bs),this.Ts(n,m.bottom,B.ms.bs);for(e=m.top-1;e<m.bottom+1;e+=1)this.Ts(m.left-1,e,B.ms.bs),this.Ts(m.right,e,B.ms.bs);for(w=new N(this.Ti++,m),n=m.left;n<m.right;n+=1)for(e=m.top;e<m.bottom;e+=1)this.Ts(n,e,B.ms.gs,w);F.push(w)}for(g=0;0<F.length&&g<1e4;){x=g<M.length?b:this.Ei;var O=[];for((j=X({},m=F.shift())).top+=1,j.bottom-=1,j.left-=2,j.right+=2,s=0;s<x.length;s+=1)u=x[s],W.I(j,u)&&O.push(u);for(j.left=m.left+1,j.right=m.right-1,j.top=m.top-2,j.bottom=m.bottom+2,s=0;s<x.length;s+=1)u=x[s],O.indexOf(u)<0&&W.I(j,u)&&O.push(u);if(0<O.length){var C=0;u=T.F(O),j.left=m.left,j.top=m.top,j.right=m.right,j.bottom=m.bottom;var P=!1,E=this.gi/2,I=this.gi/2;j.left-=2,W.I(j,u)&&(P=!0,o=n=u.right,r=(e=T.j(Math.max(m.top,u.top),Math.min(m.bottom,u.bottom)-1))+1,E+=2*this.gi,C=B.Rh.left),P||(j.left=m.left,j.top-=2,W.I(j,u)&&(P=!0,o=(n=T.j(Math.max(m.left,u.left),Math.min(m.right,u.right)-1))+1,r=e=u.bottom,I+=2*this.gi,C=B.Rh.top)),P||(j.top=m.top,j.right+=2,W.I(j,u)&&(P=!0,o=n=u.left-1,r=(e=T.j(Math.max(m.top,u.top),Math.min(m.bottom,u.bottom)-1))+1,E+=2*-this.gi,C=B.Rh.right)),P||(o=(n=T.j(Math.max(m.left,u.left),Math.min(m.right,u.right)-1))+1,r=e=u.top-1,I+=2*-this.gi,C=B.Rh.bottom),this.Ts(n,e,B.ms.Ms),this.Ts(o,r,B.ms.Ms),m.ei={x:(n+o)/2*this.gi+E,y:(e+r)/2*this.gi+I},m.ii=!0,this.Ei.push(m),m.si||(m.si=0),u.si||(u.si=0),m.si|=C;var R=C<<2;8<R&&(R>>=4),u.si|=R}else m.ii=!1,F.push(m);g+=1}if(1e4<=g)throw new Error("Infinite loop in door placements")},Ah:function(){var t,i,h,s=this.Ii;for(h=0;h<this.Ei.length;h+=1)i=this.Ei[h],t=new H({x:Math.floor((i.left-.5)*this.gi),y:Math.floor((i.top-.5)*this.gi),w:Math.floor((i.right-i.left+1)*this.gi),h:Math.floor((i.bottom-i.top+1)*this.gi)}),this.Lt(t),i.hi=t;var n=new c;for(this.Lt(n),h=0;h<s.length;h+=1)i=s[h],t=new H({x:Math.floor((i.left-.5)*this.gi),y:Math.floor((i.top-.5)*this.gi),w:Math.floor((i.right-i.left+1)*this.gi),h:Math.floor((i.bottom-i.top+1)*this.gi)}),n.Lt(t),i.hi=n},kh:function(){var t,i,h=this.Ei.slice(),s=T.O(h);for(s.Kt=B.As.Ds,this.Hs(s),this.Ri=s;0<h.length;)t=[],200<(i=((s=T.O(h)).right-s.left)*(s.bottom-s.top))&&t.push(B.As.Ss),100<=i&&t.push(B.As.Fs),i<100&&t.push(B.As.js),s.Kt=T.F(t),this.Hs(s)},Ns:function(i,h,t,s){var n,e,o=s.width/2,r=s.Ps/2,a=s.Es/2,f=[];if(n=[new z(i-r-a/2,h,r+a/2,o)],s.Kt===B.Lh.Qh){var c=(s.width-s.Rs)/2;f.push(new k(s.Kt,i-r,h-c/2-s.Rs/2,s.Ps,c,s.Es)),f.push(new k(s.Kt,i-r,h+c/2+s.Rs/2,s.Ps,c,s.Es))}else f.push(new k(s.Kt,i-r,h,s.Ps,s.width,s.Es));return e=t===B.Rh.left?180:t===B.Rh.top?270:t===B.Rh.right?0:90,n.forEach(function(t){t.It({x:i,y:h},e)}),f.forEach(function(t){t.vs({x:i,y:h},e)}),[n,f]},Hs:function(i){var t=null,h={left:i.left*this.gi,top:i.top*this.gi,right:i.right*this.gi,bottom:i.bottom*this.gi};i.si&B.Rh.left&&(h.left+=1.5*this.gi),i.si&B.Rh.top&&(h.top+=1.5*this.gi),i.si&B.Rh.right&&(h.right-=1.5*this.gi),i.si&B.Rh.bottom&&(h.bottom-=1.5*this.gi),i.Kt===B.As.Fs?t=this.Bs(h):i.Kt===B.As.js?t=this.Vs(h,i):i.Kt===B.As.Ss&&(t=this._s(h,i)),t&&(i.ti=t[0],i.$t=t[1]),i.$t.forEach(function(t){t.ri=i,t.ui.forEach(function(t){this.Lt(t)},this)},this)},Bs:function(t,i){var h,s,n=t.right-t.left,e=t.bottom-t.top,o=[],r=[],a=[B.Cs],f=e<n?e:n;B.Is.width+100>=f&&a.push(B.Is);var c,u,l,w,v,p=T.F(a),d=p.Ps+50,y=p.width/2,m=p.Es/2,x=T.j(0,2);if(e<n){for(l=Math.floor(n/d),w=Math.random()*(n-l*d),u=t.top+y;u+y<t.bottom;){for(h=0;h<l;h+=1)c=t.left+h*d+x*(p.Ps+m)+w,s=this.Ns(c,u,x?B.Rh.right:B.Rh.left,p),o=o.concat(s[0]),r=r.concat(s[1]);u+=50+p.width}var b=null,M=null;o.forEach(function(t){(!b||t.y<b.y)&&(b=t),(!M||t.y>M.y)&&(M=t)}),b&&M?(v=Math.random()*(e-(M.y+M.z-(b.y-b.z))),o.forEach(function(t){t.y+=v}),r.forEach(function(t){t.ui.forEach(function(t){t.y+=v}),t.ai.y+=v})):console.log("Empty room")}else{for(l=Math.floor(e/d),w=Math.random()*(e-l*d),c=t.left+y;c+y<t.right;){for(h=0;h<l;h+=1)u=t.top+h*d+x*(p.Ps+m)+w,s=this.Ns(c,u,x?B.Rh.bottom:B.Rh.top,p),o=o.concat(s[0]),r=r.concat(s[1]);c+=50+p.width}var g=null,k=null;o.forEach(function(t){(!g||t.x<g.x)&&(g=t),(!k||t.x>k.x)&&(k=t)}),k&&g?(v=Math.random()*(n-(k.x+k.W-(g.x-g.W))),o.forEach(function(t){t.x+=v}),r.forEach(function(t){t.ui.forEach(function(t){t.x+=v}),t.ai.x+=v})):console.log("Empty room")}return[o,r]},Vs:function(t,i){var h,s,n,e,o=this.qs(i),r=B.Ys,a=r.Ps+r.Es/2,f=r.width/2,c=a+r.Rs;return o===B.Rh.left||o===B.Rh.right?(n=t.top+f,s=(e=t.bottom-f)<=n?(t.top+t.bottom)/2:T.S(n,e)):(n=t.left+f,h=(e=t.right-f)<=n?(t.left+t.right)/2:T.S(n,e)),o===B.Rh.right?h=t.left+c:o===B.Rh.left?h=t.right-c:s=o===B.Rh.bottom?t.top+c:t.bottom-c,this.Ns(h,s,o,r)},_s:function(t,i){var h,s,n,e=t.right-t.left,o=t.bottom-t.top;n=o<e?(h=e,s=o,0):(h=o,s=e,1);var r,a,f,c,u,l,w,v,p,d,y,m,x=Math.floor((s-30)/130),b=Math.floor((h-30)/280),M=(s-30)%130-30,g=(h-30)%280-30,k=Math.floor(M/50),A=Math.floor(g/50),D=[],S=[];0<k&&(x+=1),0<A&&(b+=1);var j=[],F=[];for(r=0;r<x;r+=1)for(l=130*r+30,p=0<k&&r===x-1?k:2,a=0;a<b;a+=1)for(m=new z((u=280*a+30)+50*(d=0<A&&a===b-1?A:5)/2,l+50,50*d/2,2),F.push(m),f=0;f<p;f+=1){for(v=l+50*f,y=f%2==0?B.Rh.top:B.Rh.bottom,c=0;c<d;c+=1)(m=new z((w=u+50*c)+25,v+25,25,25)).Gs=y,j.push(m),m=new z(w,v+25,2,25),F.push(m);m=new z(u+50*d,v+25,2,25),F.push(m)}var O,C,P=(t.left+t.right)/2,E=(t.top+t.bottom)/2,I={x:h/2,y:s/2},R=P-I.x,Y=E-I.y;return O=0===n?[0,180]:[90,270],C=T.F(O),j.forEach(function(t){if(0!==C){t.It(I,C);var i,h=Math.round(C/90);for(i=0;i<h;i+=1)t.Gs<<=1,8<t.Gs&&(t.Gs=1)}t.x+=R,t.y+=Y;var s,n,e=T.C(15^t.Gs);n=e===B.Rh.right?(s=t.x+t.W,t.y):e===B.Rh.bottom?(s=t.x,t.y+t.z):e===B.Rh.left?(s=t.x-t.W,t.y):(s=t.x,t.y-t.z);var o=this.Ns(s,n,e,B.Xs);D=D.concat(o[0]),S=S.concat(o[1])},this),F.forEach(function(t){0!==C&&t.It(I,C),t.x+=R,t.y+=Y,D.push(t.Pt()),S.push({ri:null,Kt:B.Lh.Os,ui:[new H(X(t.Yt(),{at:"black"}))]})}),[D,S]},qs:function(t){var i,h,s=0,n=[];for(i=1;i<=8&&!s;i<<=1)i===t.si?s=i:0<(t.si&i)&&n.push(i);if(s||(5===t.si?s=T.F([1,4]):10===t.si&&(s=T.F([2,8]))),!s)for(h=1;h<=8&&!s;h<<=1)i=h,i|=8<h<<1?1:h<<1,(i|=h>>1<1?8:h>>1)===t.si&&(s=h);return s||(s=T.F(n)),s},Ls:function(t,i,h,s){var n=null,e=null,o=this.gi/2,r=null,a=!0,f=0,c=0;switch(h){case B.ms.bs:e=new z(t*this.gi+o,i*this.gi+o,o,o),a=!1;break;case B.ms.xs:a=!0;break;case B.ms.Ms:n=Y.f.e,a=!0,f=-t*this.gi,c=-i*this.gi;break;case B.ms.gs:a=!0}return n&&(r=new H({x:t*this.gi,y:i*this.gi,w:this.gi,h:this.gi,at:n,ct:f,ut:c})),{Kt:h,Qs:r,zi:e,ri:s,Us:a}},Zs:function(t,i){return this.Mi[t]&&this.Mi[t][i]?this.Mi[t][i]:null},Ts:function(t,i,h,s){this.Mi[t]||(this.Mi[t]={});var n=this.Mi[t][i];n&&n.Qs&&this.Qt(n.Qs),n=this.Ls(t,i,h,s),(this.Mi[t][i]=n).Qs&&this.Lt(n.Qs)},Js:function(t,i){return this.Zs(Math.floor(t/this.gi),Math.floor(i/this.gi))},Ks:function(t,i){var h,s,n=[],e=Math.floor(t/this.gi),o=Math.floor(i/this.gi),r=null,a=B.ks;for(s=0;s<a.length;s+=1)h=a[s],(r=this.Zs(e+h.x,o+h.y))&&n.push(r);return n}}),A.prototype=t(c.prototype,{$s:function(t){this.Zi|=t,this.tn()},in:function(t){this.Zi^=t,this.tn()},hn:function(){this.Zi=0,this.tn()},tn:function(){this._i.x=0,this._i.y=0,this.Zi&B.Rh.left&&(this._i.x-=this.Bi),this.Zi&B.Rh.right&&(this._i.x+=this.Bi),this.Zi&B.Rh.top&&(this._i.y-=this.Bi),this.Zi&B.Rh.bottom&&(this._i.y+=this.Bi)},Eh:function(){this.Hi.gt(this.zi.x,this.zi.y),this.zi.gt(this.x,this.y)},Ht:function(t){var i,h,s,n,e,o,r=1,a=0,f=0;s=this.vi.Js(this.x,this.y),this.tn(),(this._i.x||this._i.y)&&(this.vt.angle=W.R(this._i));var c=null;for(this.Ui&&s&&s.ri&&s.ri.ti&&(c=s.ri.ti),e=0;e<this.Vi;e+=1){if(r=1,c)for(this.sn(t),h=0;h<c.length;h+=1)(n=this.nn(c[h],t))<r&&(r=n,a=this.Gi.x,f=this.Gi.y);this.x+=this._i.x*t*r/this.Vi,this.y+=this._i.y*t*r/this.Vi,r<1&&(o=(this._i.x*f+this._i.y*a)*(1-r),this._i.x=o*f,this._i.y=o*a),this.Eh()}if(r<1&&(o=(this._i.x*f+this._i.y*a)*(1-r),this.x+=o*f*t/this.Vi,this.y+=o*a*t/this.Vi,this.Eh()),s&&s.ri&&s.ri.$t){var u=s.ri.$t,l=!1;for(h=0;h<u.length;h+=1)if(u[h].Kt===B.Lh.Gh||u[h].Kt===B.Lh.Qh){var w=u[h];w.ni&&w.ai.Ot(this.zi)&&w.ys(this),l=l||w.ni}s.ri.ni=l}if(this.Qi)for(i=this.vi.Ks(this.x,this.y),h=0;h<i.length;h+=1)!(s=i[h]).Us&&s.zi&&this.en(s.zi);if((s=this.vi.Js(this.x,this.y))&&s.ri&&this.Li!==s.ri){var v=this.Li;if(this.Li=s.ri,v&&(!v.zs||!this.Li.zs)){v.on&&(v.on.Nt(),v.on=null);var p=new d({N:v.hi,B:"alpha",from:0,V:1,_:.5});v.on=p,this.pi.sh.$i.Vt(p)}this.Li.on&&(this.Li.on.Nt(),this.Li.on=null),this.Li.hi.alpha=0}},en:function(t){var i,h;t.Ot(this.zi)&&(i=this.zi.x-t.x,h=this.zi.y-t.y,Math.abs(i)>Math.abs(h)?this.x=0<i?t.Dt()+this.zi.W+1:t.kt()-this.zi.W-1:this.y=0<h?t.St()+this.zi.z+1:t.At()-this.zi.z-1,this.Eh())},nn:function(t,i){if(!this.Ni.Ot(t))return this.Gi.x=0,this.Gi.y=0,1;var h,s,n,e,o,r,a,f;n=0<this._i.x?(h=t.x-t.W-(this.zi.x+this.zi.W),t.x+t.W-(this.zi.x-this.zi.W)):(h=t.x+t.W-(this.zi.x-this.zi.W),t.x-t.W-(this.zi.x+this.zi.W)),e=0<this._i.y?(s=t.y-t.z-(this.zi.y+this.zi.z),t.y+t.z-(this.zi.y-this.zi.z)):(s=t.y+t.z-(this.zi.y-this.zi.z),t.y-t.z-(this.zi.y+this.zi.z)),a=0===this._i.x?(o=-Number.MAX_VALUE,Number.MAX_VALUE):(o=h/(this._i.x*i/this.Vi),n/(this._i.x*i/this.Vi)),f=0===this._i.y?(r=-Number.MAX_VALUE,Number.MAX_VALUE):(r=s/(this._i.y*i/this.Vi),e/(this._i.y*i/this.Vi));var c=Math.max(o,r);return Math.min(a,f)<c||o<0&&r<0||1<o||1<r?(this.Gi.x=0,this.Gi.y=0,1):(r<o?(this.Gi.x=h<0?1:-1,this.Gi.y=0):(this.Gi.x=0,this.Gi.y=s<0?1:-1),c)},sn:function(t){var i=this._i.x*t/this.Vi,h=this._i.y*t/this.Vi,s=0<this._i.x?this.zi.x-this.zi.W:this.zi.x-this.zi.W+i,n=0<this._i.y?this.zi.y-this.zi.z:this.zi.y-this.zi.z+h,e=0<this._i.x?this.zi.x+this.zi.W+i:this.zi.x+this.zi.W,o=0<this._i.y?this.zi.y+this.zi.z+h:this.zi.y+this.zi.z;this.Ni.x=(s+e)/2,this.Ni.y=(n+o)/2,this.Ni.W=(e-s)/2,this.Ni.z=(o-n)/2}}),D.prototype=t(H.prototype,{}),S.prototype={zt:function(){this.xi=!0,setTimeout(this.rn.bind(this),1e3*this.Ki)},rn:function(){if(!this.xi)return!1;var t,i;t=new d({N:this.ih,B:"y",from:5,V:15,_:.5,q:d.L.Xt,U:function(){this.$i.Vt(i)}.bind(this)}),i=new d({N:this.ih,B:"y",from:15,V:5,_:.5,q:d.L.Xt,U:this.rn.bind(this)}),this.$i.Vt(t)},an:function(){this.xi=!1,this.tt.forEach(function(t){t.Nt()})}},j.prototype=t(c.prototype,{create:function(){},v:function(){},_h:function(t){this.nh.push(t)},Ht:function(t){for(var i=0;i<this.nh.length;i+=1)this.nh[i](t)},qt:function(t){this.Gt(t)}}),F.wh={lh:1,fn:2,as:3,cn:4},F.prototype=t(j.prototype,{un:function(){return this.uh===F.wh.as||this.uh===F.wh.cn},Th:function(t){this.Yh[t]&&(this.un()||(this.uh===F.wh.lh&&(f.Bt.Vt(new d({N:this.zh,B:"alpha",from:1,V:0,_:.5})),this.uh=F.wh.fn),this.Ph.$s(this.Yh[t])))},Wh:function(t){this.un()?this.ph<=0&&this.sh.rs(new F(this.sh)):this.Yh[t]&&this.Ph.in(this.Yh[t])},v:function(){this.Xh.v()},qh:function(t){this.Ph.Ht(t),this.Ch||(this.vi.x=Math.floor(w.width/2-this.Ph.x*this.vi.it),this.vi.y=Math.floor(w.height/2-this.Ph.y*this.vi.ht)),this.ln(),this.wn(),this.uh===F.wh.fn?(this.vh-=t,this.vh<=0&&(this.uh=F.wh.cn,this.Ph.hn(),this.vn(this.uh)),this.jh.pt="Time left: "+Math.ceil(this.vh)+"s"):this.un()&&(0<this.ph?(this.ph-=t,this.Bh.pt="Continue in "+Math.ceil(this.ph)):this.Bh.pt="Press any movement key to restart")},ln:function(){var t,i,h,s,n,e,o;for(t=0;t<this.eh.length;t+=1)(i=this.eh[t]).ni&&(s=this.fh[i.Jt],this.Ph.Li!==i?(s.st=!0,e=i.ei.x-this.Ph.x,o=i.ei.y-this.Ph.y,n=Math.sqrt(e*e+o*o),h=Math.atan2(o,e),s.angle=h,s.Zh(n)):s.st=!1)},wn:function(){for(var t,i,h=!1;0<this.ch.length&&this.ch[0].pn<this.sh.$;)t=this.ch.shift(),this.Fh.Qt(t.Ji),h=!0;if(h)for(i=0;i<this.ch.length;i+=1)this.ch[i].Ji.y=18*i},dn:function(t){var i={Ji:new l({x:-200,y:18*this.ch.length,alpha:0,pt:t,font:"16px Arial",at:"#ffffff",dt:"left",yt:"top"}),pn:this.sh.$+5e3};this.ch.push(i),this.Fh.Lt(i.Ji);var h=new d({N:i.Ji,B:"x",from:-200,V:0,_:1,q:d.L.Tt});f.Bt.Vt(h),h=new d({N:i.Ji,B:"alpha",from:0,V:1,_:.5}),f.Bt.Vt(h)},Oh:function(){var t,i,h,s=this.vi.Ei.filter(function(t){return t.$t&&t.$t.length&&t.$t.some(function(t){return t.Kt===B.Lh.Gh||t.Kt===B.Lh.Qh})}),n=T.j(w.minMailableRooms,Math.max(w.minMailableRooms+1,Math.floor(s.length*w.maxMailableRoomRate))),e=[];for(t=0;t<n;t+=1)i=T.O(s),h=P("white"),this.Dh.Lt(h),this.fh[i.Jt]=h,i.ni=!0,e.push(i);var o=e.reduce(O,[]),r=s.reduce(O,[]),a=T.j(w.minMissingPeople,w.maxMissingPeople+1);a>o.length&&(a=o.length);var f,c,u=[],l=[];for(t=0;t<a;t+=1)f=T.O(o),c=T.O(r),f.li=c.Jt,c.wi=f.Jt,u.push(f),l.push(c),f.yi=this.yn.bind(this),c.mi=this.mn.bind(this),c.di=this.xn.bind(this);o.forEach(function(t){t.di=this.xn.bind(this)},this),o.forEach(C),u.forEach(C),l.forEach(C),this.eh=e,this.oh=o,this.rh=u,this.ah=l,this.bn=o.concat(l),this.Sh.pt="Mail left: "+this.bn.length},xn:function(t){var i=this.bn.reduce(function(t,i){return t+(i.ni?1:0)},0);this.Sh.pt="Mail left: "+i,i<=0&&(this.uh=F.wh.as,this.Ph.hn(),this.vn(this.uh))},yn:function(i){var t=this.ah.find(function(t){return t.Jt===i.li});if(t){if(t.ni&&-1===this.eh.indexOf(t.ri)){t.ri.ni=!0,t.Uh(!0),this.eh.push(t.ri);var h=P("blue");this.fh[t.ri.Jt]=h,this.Dh.Lt(h),this.dn("404 Employee not found. Moved to another desk")}}else console.log("desk "+i.li+" not found")},mn:function(i){var t=this.rh.find(function(t){return t.Jt===i.wi});t&&t.ni&&(t.ys(this.Ph),this.dn("302 Found new desk of employee, unregistering old desk"))},vn:function(t){this.Nh.pt=t===F.wh.as?"Delivered on time!":"Too late, offices are open.",this.Vh.st=!1,f.Bt.Vt(new d({N:this.zh,B:"alpha",from:0,V:1,_:.5}))}}),E.prototype=t(j.prototype,{v:function(){this.es.forEach(function(t){t.an()}),clearInterval(this.os),this.Xh.v()},qh:function(t){this.$+=t;var i,h,s=this.$%this.Jh/this.Jh;for(this.s.it=1+.05*Math.cos(s*Math.PI*2),this.s.ht=1+.05*Math.sin(s*Math.PI*2),this.ss.ct-=200*t,this.ns.x-=200*t,i=0;i<this.hs.length;i+=1)(h=this.hs[i]).x+this.ns.x<-200&&(this.ns.Qt(h),this.hs.splice(i,1),i-=1);this.ts-=t,this.ts<=0&&(h=new D({x:-this.ns.x+this.s.x,y:this.s.y,it:4,ht:4,angle:T.S(0,2*Math.PI)}),this.hs.push(h),this.ns.Lt(h),this.ts=T.S(this.Kh,this.$h))}}),I.prototype=t(j.prototype,{create:function(){Object.entries(Y.i).forEach(function(t){var i=new Image;i.onload=this.Mn.bind(this),i.src=t[1],this.i.push(i),Y.a[t[0]]=i},this)},Mn:function(t){if(!this.as){var i=this.i.reduce(function(t,i){return(i.complete?1:0)+(t||0)},0);this.fs.pt=Math.floor(i/this.i.length*100)+"%",i>=this.i.length&&this.gn()}},gn:function(){this.as||(Object.entries(Y.n).forEach(function(t){Y.f[t[0]]=this.sh.bt.createPattern(Y.a[t[0]],t[1])},this),this.as=!0,this.sh.rs(new E(this.sh)))}}),R.prototype={ws:function(){this.ls(),setTimeout(function(){this.ls()}.bind(this),100)},ls:function(){var t,i,h=o.getComputedStyle(r.c("root")),s=parseInt(h.width,10),n=parseInt(h.height,10),e=this.xt.width/this.xt.height;s/n<e?i=(t=s)/e:t=(i=n)*e,this.xt.style.width=Math.floor(t)+"px",this.xt.style.height=Math.floor(i)+"px",this.xt.style.position="absolute",this.xt.style.left="50%",this.xt.style.top="50%",this.xt.style.marginLeft=Math.floor(-t/2)+"px",this.xt.style.marginTop=Math.floor(-i/2)+"px"},rs:function(t){this.pi&&this.pi.v(),(this.pi=t).create()},Ht:function(t){var i=(t-this.$)/1e3;0<i&&(.2<i&&(i=.2),this.pi.Ht(i),this.pi.qt(this.bt),this.$i.Ht(i),this.$=t),requestAnimationFrame(this.Ht)}},o.game=new R}(window,document);