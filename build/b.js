!function(r,i){var w={t:"Mail Delivery",width:640,height:360,minMailableRooms:2,maxMailableRoomRate:.25,minMissingPeople:5,maxMissingPeople:10},X={i:{s:"robot_3Dblue.png"},n:{e:"repeat",r:"repeat",o:"repeat"},a:{},u:{}};function Y(t,i){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(t),s=1;s<arguments.length;s++){var n=arguments[s];if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(h[e]=n[e])}return h}function t(){return Y.apply(this,[{}].concat(Array.prototype.slice.call(arguments)))}function e(t,i){return Object.prototype.hasOwnProperty.call(t,i)}var h,o=(h={},{c:function(t){return h[t]||(h[t]=i.getElementById(t)),h[t]},create:function(t){return i.createElement(t)}});function a(h,s){var n={},t={f:function(t){var i=t.keyCode;e(n,i)||(n[i]=!1),n[i]||h(i),n[i]=!0,t.preventDefault()},l:function(t){var i=t.keyCode;e(n,i)||(n[i]=!1),n[i]&&s(i),n[i]=!1,t.preventDefault()},v:function(){r.removeEventListener("keydown",t.f,!1),r.removeEventListener("keyup",t.l,!1)}};return r.addEventListener("keydown",t.f,!1),r.addEventListener("keyup",t.l,!1),t}a.keys={d:65,w:87,p:83,m:68,b:90,M:81,left:37,g:38,right:39,k:40,O:32,A:13};var Q=null;Q={I:function(t,i){return t+Math.random()*(i-t)},S:function(t,i){return Math.floor(Q.I(t,i))},D:function(t){return t[Q.S(0,t.length)]},C:function(t){var i=Q.S(0,t.length),h=t[i];return t.splice(i,1),h},P:function(t){for(var i=[],h=0;0<t;)1&t&&i.push(1<<h),t>>=1,h+=1;return 0<i.length?Q.D(i):0}};var W={j:function(t,i,h){return t<i?i:h<t?h:t},F:function(t,i){return t.left<i.right&&t.right>i.left&&t.top<i.bottom&&t.bottom>i.top},R:function(t){return Math.atan2(t.y,t.x)},X:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},Y:function(t,i){var h=Math.cos(i),s=Math.sin(i);return{x:t.x*h-t.y*s,y:t.x*s+t.y*h}},Q:function(t,i,h){if(0===h)return{left:t.left,top:t.top,right:t.right,bottom:t.bottom};var s,n,e=t.right-t.left,r=t.bottom-t.top,o=h/360*Math.PI*2;return 90!==h&&270!==h||(n=e,e=r,r=n),(s=90===h?{x:t.left,y:t.bottom}:180===h?{x:t.right,y:t.bottom}:{x:t.right,y:t.top}).x-=i.x,s.y-=i.y,s=W.Y(s,o),{left:i.x+s.x,top:i.y+s.y,right:i.x+s.x+e,bottom:i.y+s.y+r}}};function z(t,i,h,s){this.x=t||0,this.y=i||0,this.W=h||0,this.z=s||0}function p(t){this.H=Y({T:null,B:null,from:0,N:1,L:1,V:p.q._,U:null,G:null},t||{}),this.Z=-1,this.J=-1,this.K=!1}function u(){this.$=0,this.tt=[]}function s(t){var i=Y({x:0,y:0,it:1,ht:1,angle:0,st:!0,alpha:1,nt:0,et:0},t||{});this.rt=null,this.x=i.x,this.y=i.y,this.it=i.it,this.ht=i.ht,this.angle=i.angle,this.st=i.st,this.alpha=i.alpha,this.nt=i.nt,this.et=i.et}function c(t){s.apply(this,arguments),this.ot=[]}function H(t){s.apply(this,arguments);var i=Y({w:0,h:0,at:"black",ut:0,ct:0,ft:0,lt:1,wt:1},t||{});this.ut=i.ut,this.w=i.w,this.h=i.h,this.ct=i.ct,this.ft=i.ft,this.lt=i.lt,this.wt=i.wt,this.at=i.at}function f(t){s.apply(this,arguments);var i=Y({w:0,h:0,vt:null},t||{});this.w=i.w,this.h=i.h,this.vt=i.vt,this.w&&!i.it&&(this.it=this.w/this.vt.width),this.h&&!i.ht&&(this.ht=this.h/this.vt.height)}function l(t){s.apply(this,arguments);var i=Y({dt:"",pt:"left",yt:"top",font:null,at:"black"},t||{});this.at=i.at,this.dt=i.dt,this.pt=i.pt,this.yt=i.yt,this.font=i.font}function n(t){s.apply(this,arguments);var i=Y({mt:[],at:"black"},t||{});this.mt=i.mt,this.at=i.at}function v(t){c.apply(this,arguments);var i=Y({w:100,h:100},t||{});this.xt=o.create("canvas"),this.xt.width=i.w,this.xt.height=i.h,this.bt=this.xt.getContext("2d")}function d(t,i,h,s,n){var e,r=[],o=s/(h-1);for(e=0;e<h;e+=1)r.push({x:e*o,y:t+i-n/2}),i*=-1;for(i*=-1,e=h-1;0<=e;e-=1)r.push({x:e*o,y:t+i+n/2}),i*=-1;return r}z.Mt=function(t){return new z((t.left+t.right)/2,(t.top+t.bottom)/2,(t.right-t.left)/2,(t.bottom-t.top)/2)},(z.prototype={}).gt=function(t,i){this.x=t||0,this.y=i||0},z.prototype.kt=function(){return this.x-this.W},z.prototype.Ot=function(){return this.y-this.z},z.prototype.At=function(){return this.x+this.W},z.prototype.It=function(){return this.y+this.z},z.prototype.St=function(){return 2*this.W},z.prototype.Dt=function(){return 2*this.z},z.prototype.Ct=function(t){return Math.abs(this.x-t.x)<this.W+t.W&&Math.abs(this.y-t.y)<this.z+t.z},z.prototype.Pt=function(t,i){return Math.abs(this.x-t)<this.W&&Math.abs(this.y-i)<this.z},z.prototype.jt=function(){return new z(this.x,this.y,this.W,this.z)},z.prototype.Ft=function(t){return this.W+=t,this.z+=t,this},z.prototype.Et=function(t,i){var h,s=i/360*Math.PI*2;90!==i&&270!==i||(h=this.W,this.W=this.z,this.z=h);var n=W.Y({x:this.x-t.x,y:this.y-t.y},s);return this.x=t.x+n.x,this.y=t.y+n.y,this},z.prototype.Rt=function(){return{left:this.x-this.W,top:this.y-this.z,right:this.x+this.W,bottom:this.y+this.z}},z.prototype.Xt=function(){return{x:this.x-this.W,y:this.y-this.z,w:2*this.W,h:2*this.z}},p.q={_:function(t){return t},Yt:function(t){return t*t},Qt:function(t){return t*(2-t)},Wt:function(t){return t<.5?2*t*t:(4-2*t)*t-1},zt:function(t){return t*t*t},Ht:function(t){return--t*t*t+1},Tt:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},Bt:function(t){return t*t*t*t},Nt:function(t){return 1- --t*t*t*t},Lt:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},Vt:function(t){return t*t*t*t*t},_t:function(t){return 1+--t*t*t*t*t},qt:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},p.prototype={Ut:function(t){this.Z=t,this.J=t+this.H.L},Gt:function(t){if(this.H.T&&this.H.B||this.H.U){var i=(t-this.Z)/this.H.L;1<i&&(i=1);var h=this.H.V(i),s=this.H.from+(this.H.N-this.H.from)*h;this.H.T&&this.H.B&&(this.H.T[this.H.B]=s),this.H.U&&this.H.U(s)}},Zt:function(){this.K=!0}},u.Jt=null,u.prototype={Kt:function(t){t.Ut(this.$),this.tt.push(t)},Gt:function(t){var i,h,s;for(i=0;i<this.tt.length;i+=1)s=!1,(h=this.tt[i]).K||h.Gt(this.$),h.K?s=!0:this.$>=h.J&&(h.H.G&&h.H.G(),s=!0),s&&(this.tt.splice(i,1),i-=1);this.$+=t}},c.prototype=t(s.prototype={$t:function(t){this.it=t,this.ht=t},ti:function(t){this.st&&.01<=this.alpha&&(t.save(),(this.x||this.y)&&t.translate(this.x,this.y),1===this.it&&1===this.ht||t.scale(this.it,this.ht),this.angle&&t.rotate(this.angle),(this.nt||this.et)&&t.translate(-this.nt,-this.et),this.alpha<1&&(t.globalAlpha*=this.alpha),this.ii(t),t.restore())},ii:function(t){}},{hi:function(t){return this.ot.push(t),t.rt=this},si:function(t){var i=this.ot.indexOf(t);return 0<=i&&(this.ot.splice(i,1),t.rt=null),this},ii:function(t){for(var i=0;i<this.ot.length;i+=1)this.ot[i].ti(t)}}),H.prototype=t(s.prototype,{ii:function(t){if(t.fillStyle=this.at,this.ut){var i=this.ut,h=this.w,s=this.h;t.beginPath(),t.moveTo(i,0),t.lineTo(h-i,0),t.arcTo(h,0,h,i,i),t.lineTo(h,s-i),t.arcTo(h,s,h-i,s,i),t.lineTo(i,s),t.arcTo(0,s,0,s-i,i),t.lineTo(0,i),t.arcTo(0,0,i,0,i),t.closePath(),(this.ct||this.ft)&&t.translate(this.ct,this.ft),1===this.lt&&1===this.wt||t.scale(this.lt,this.wt),t.fill()}else t.beginPath(),t.rect(0,0,this.w,this.h),t.closePath(),(this.ct||this.ft)&&t.translate(this.ct,this.ft),1===this.lt&&1===this.wt||t.scale(this.lt,this.wt),t.fill()}}),f.prototype=t(s.prototype,{ii:function(t){t.drawImage(this.vt,0,0)}}),l.prototype=t(s.prototype,{ii:function(t){this.font&&(t.font=this.font),t.textAlign=this.pt,t.textBaseline=this.yt,t.fillStyle=this.at,t.fillText(this.dt,0,0)}}),n.prototype=t(s.prototype,{ii:function(t){var i,h;for(t.beginPath(),i=0;i<this.mt.length;i+=1)h=this.mt[i],0===i?t.moveTo(h.x,h.y):t.lineTo(h.x,h.y);t.closePath(),t.fillStyle=this.at,t.fill()}}),v.prototype=t(c.prototype,{ni:function(t,i){this.xt.width=t,this.xt.height=i},hi:function(t){c.prototype.hi.apply(this,arguments),this.ei()},si:function(t){c.prototype.si.apply(this,arguments),this.ei()},ei:function(){this.bt.clearRect(0,0,this.xt.width,this.xt.height);for(var t=0;t<this.ot.length;t+=1)this.ot[t].ti(this.bt)},ii:function(t){t.drawImage(this.xt,0,0)}});var y,m,x,b=((y=new v({w:70,h:70})).hi(new H({w:70,h:70,at:"#c99869"})),y.hi(new n({mt:d(25,5,7,70,16),at:"#c58f5c"})),y.hi(new n({mt:d(55,5,7,70,16),at:"#c58f5c"})),y),M=((m=new v({w:70,h:70})).hi(new H({w:70,h:70,at:"#838796"})),m.hi(new n({mt:d(25,5,7,70,24),at:"#7e8291"})),m.hi(new n({mt:d(55,5,7,70,16),at:"#7e8291"})),m),g=((x=new v({w:70,h:70})).hi(new H({w:70,h:70,at:"#acc0c1"})),x.hi(new n({mt:d(25,5,7,70,16),at:"#bbcbcc"})),x.hi(new n({mt:d(55,5,7,70,16),at:"#bbcbcc"})),x);function T(t,i){this.ri=t,this.left=i.left,this.top=i.top,this.right=i.right,this.bottom=i.bottom,this.oi=0,this.ai=[],this.ui=[],this.ci=!1,this.fi=null,this.li=0,this.wi=!1,this.vi={x:0,y:0}}function k(t,i,h,s,n,e,r){this.ri=k.di++,this.oi=t,this.pi=r;var o=i-s/2,a=h;this.yi=new z((i+o)/2,(h+a)/2,(s+e/2)/2+k.mi,(n+e/2)/2+k.mi),this.xi=new H({x:this.yi.x,y:this.yi.y,w:2*this.yi.W,h:2*this.yi.z,st:!1,at:"#00cc00",alpha:.5,nt:this.yi.W,et:this.yi.z}),this.bi=[this.xi,new H({x:i-s/2,y:h-n/2,w:s,h:n,at:"#990000"}),new H({x:i-s/2-e/2,y:h-e/2,w:e,h:e,at:"#990000"})],this.wi=!1,this.Mi=-1,this.gi=-1,this.ki=null,this.Oi=null,this.Ai=null,this.Ii=null,this.Si=null,this.Di=!1,this.Ci=null}function B(){c.apply(this,arguments),this.Pi={},this.ji=20,this.Fi=1e3,this.Ei=20,this.Ri=20,this.Xi=100,this.Yi=12,this.Qi=12,this.Wi=2,this.zi=0,this.Hi=0,this.Ti=[],this.Bi=[],this.Ni=null,this.Li=[],this.Vi=0,this._i=0,this.qi=new v,this.hi(this.qi)}function O(t,i){c.call(this,i),this.Oi=t;var h=Y({ki:null},i||{});this.Ui=new z(0,0,10,10),this.Gi=new z(0,0,10,10),this.Zi=new z(0,0,10,10),this.Ji=200,this.Ki=4,this.$i={x:0,y:0},this.th={x:0,y:0},this.ih={x:0,y:0},this.ki=h.ki,this.hh=null;var s=new f({vt:X.a.s,w:19,h:20,nt:74,et:77});this.hi(s),this.vt=s,this.sh=!0,this.nh=!0,this.eh=0}function A(t){H.call(this,Y({at:"#eeeeee",w:20,h:10,nt:10,et:5},t||{}))}function I(t,i,h,s,n){var e=new c({x:t,y:i});this.rh=e,this.Di=!1,this.oh=s||0,this.ah=n;var r=new H({x:-20,y:-5,w:40,h:25,at:"#cccccc",ut:5});e.hi(r),this.uh=r;var o=new c({x:0,y:5});this.ch=o,e.hi(o);var a=new H({x:-20,y:-40,w:40,h:40,at:"#ffffff",ut:5});o.hi(a);var u=new l({x:0,y:-20,dt:h,font:"20px Arial",at:"black",pt:"center",yt:"middle"});o.hi(u),this.fh=u,this.tt=[]}function S(t,i){c.call(this),this.lh=t,this.H=i,this.wh=[]}function D(){S.apply(this,arguments),this.vh=[],this.dh=[],this.ph=[],this.yh=[],this.mh={},this.xh={bh:60,Mh:70,gh:60,kh:70},this.zi=Q.S(this.xh.bh,this.xh.Mh),this.Hi=Q.S(this.xh.gh,this.xh.kh);var t=new H({w:w.width,h:w.height,at:"#333333"});if(this.hi(t),this.ki=new B,this.hi(this.ki),this.ki.Oh(this.zi,this.Hi),this.ki.Ah(),this.ki.Ih(),this.ki.it=2,this.ki.ht=2,this.Sh=new c({x:w.width/2,y:w.height/2}),this.hi(this.Sh),this.Dh=new l({dt:"...",x:5,y:5,pt:"left",yt:"top",font:"16px Arial",at:"#ffffff"}),this.hi(this.Dh),this.Ch(),this.Ph=!1,this.Ph){var i=this.ki.zi*this.ki.ji,h=this.ki.Hi*this.ki.ji;i/h>w.width/w.height?this.ki.it=this.ki.ht=w.width/i:this.ki.it=this.ki.ht=w.height/h,this.ki.Ti.forEach(function(t){t.fi.st=!1}),this.ki.Bi[0].fi.st=!1}this.jh=new O(this,{ki:this.ki});this.ki.hi(this.jh);var s=this.ki.Ni;this.jh.x=(s.left+s.right)/2*this.ki.ji,this.jh.y=(s.top+s.bottom)/2*this.ki.ji,this.jh.Fh(),this.keys=[],this.Eh={},this.Eh[B.Rh.left]=[a.keys.d,a.keys.M,a.keys.left],this.Eh[B.Rh.top]=[a.keys.w,a.keys.b,a.keys.g],this.Eh[B.Rh.right]=[a.keys.m,a.keys.right],this.Eh[B.Rh.bottom]=[a.keys.p,a.keys.k];var n={};Object.entries(this.Eh).forEach(function(i){i[1].forEach(function(t){n[t]=i[0]})}),this.Xh=n,this.Yh=a(this.Qh.bind(this),this.Wh.bind(this));this.zh(this.Hh.bind(this))}function C(t,i){return t.concat(i.ai.filter(function(t){return t.oi===B.Bh.Th||t.oi===B.Bh.Nh}))}function P(t){t.wi=!0,t.Lh(!0)}function j(t){var i=new c,h=new n({x:150,y:0,mt:[{x:20,y:0},{x:-15,y:-10},{x:-15,y:10}],at:t});return i.hi(h),i.Vh=function(t){h.x=10+(W.j(t,50,400)-50)/350*140},i}function F(){S.apply(this,arguments),this.$=0,this._h=2,this.qh=.5,this.Uh=1.5,this.Gh=Q.I(this.qh,this.Uh),this.Zh=[],this.Jh=new H({w:w.width,h:w.height,at:X.u.e,lt:5,wt:5}),this.hi(this.Jh),this.Kh=new c,this.hi(this.Kh),this.s=new f({vt:X.a.s,x:170,y:w.height/2,w:148,h:154,nt:74,et:77}),this.hi(this.s);var t=new l({dt:"Employee Not Found",font:"32px Arial",x:420,y:100,pt:"center",yt:"middle",at:"white"});this.hi(t);var i=new c({x:420,y:190});this.hi(i);var h=new l({dt:"Controls:",font:"24px Arial",x:0,y:-40,pt:"center",yt:"bottom",at:"white"});i.hi(h);var s=this.$h=[new I(0,0,"W",0,this.lh.ah),new I(-45,45,"A",.125,this.lh.ah),new I(0,45,"S",.25,this.lh.ah),new I(45,45,"D",.375,this.lh.ah)];this.$h.forEach(function(t){i.hi(t.rh),t.Ut()});var n=new l({dt:"Press any of these keys to start",font:"18px Arial",x:0,y:70,pt:"center",yt:"top",at:"white"});i.hi(n);var e=[["W","A","S","D"],["↑","←","↓","→"],["Z","Q","S","D"]],r=0;this.ts=setInterval(function(){e.length<=(r+=1)&&(r=0),s.forEach(function(t,i){t.fh.dt=e[r][i]})},1e3);var o=[a.keys.d,a.keys.w,a.keys.p,a.keys.m,a.keys.M,a.keys.b,a.keys.left,a.keys.g,a.keys.right,a.keys.k];this.Yh=a(function(){},function(i){o.some(function(t){return t===i})&&this.lh.hs(new D(this.lh))}.bind(this)),this.zh(this.Hh.bind(this))}function E(){S.apply(this,arguments),this.i=[],this.ss=!1,this.ns=new l({x:w.width/2,y:w.height/2,dt:"0%",at:"black",pt:"center",yt:"middle",font:"32px Arial"}),this.hi(new H({w:w.width,h:w.height,at:"#777777"})),this.hi(this.ns)}function R(){this.Gt=this.Gt.bind(this),this.es=o.c("root");var t=o.create("canvas");t.width=w.width,t.height=w.height,this.es.appendChild(t),this.rs=X,this.xt=t,this.bt=t.getContext("2d"),this.bt.font="16px Arial",this.ah=new u,u.Jt=this.ah,this.Oi=new E(this),this.$=0,this.os=this.os.bind(this),r.addEventListener("resize",this.as.bind(this),!1),this.as(),this.Gt(0),this.Oi.create()}X.a.e=b.xt,X.a.o=M.xt,X.a.r=g.xt,T.prototype={},k.di=0,k.mi=5,k.prototype={us:function(h,t){var s=t/360*Math.PI*2;this.bi.forEach(function(t){var i=W.Y({x:t.x-h.x,y:t.y-h.y},s);t.x=h.x+i.x,t.y=h.y+i.y,t.angle=s}),this.yi.Et(h,t)},Lh:function(t){(this.xi.st=t)?this.cs():this.fs()},cs:function(){var t,i;this.Ci&&this.Ci.Zt(),this.Di=!0,t=new p({from:1,N:.8,L:.5,V:p.q.Tt,U:function(t){this.xi.$t(t)}.bind(this),G:function(){this.Di&&(u.Jt.Kt(i),this.Ci=i)}.bind(this)}),i=new p({from:.8,N:1,L:.5,V:p.q.Tt,U:function(t){this.xi.$t(t)}.bind(this),G:function(){this.Di&&(u.Jt.Kt(t),this.Ci=t)}.bind(this)}),u.Jt.Kt(t)},fs:function(){this.Di=!1,this.Ci&&(this.Ci.Zt(),this.Ci=null)},ls:function(t){if(this.wi=!1,this.bi.forEach(function(t){null===this.ki&&(this.ki=t.rt)},this),this.Lh(!1),-1===this.Mi){var i=new A({x:t.x,y:t.y,angle:Q.I(0,2*Math.PI)});this.ki.hi(i);var h=new p({T:i,B:"x",from:t.x,N:this.yi.x,L:.5,V:p.q.zt}),s=new p({T:i,B:"y",from:t.y,N:this.yi.y,L:.5,V:p.q.zt,G:function(){this.ki.si(i)}.bind(this)}),n=new p({T:i,B:"angle",from:i.angle,N:i.angle+Q.I(-Math.PI,Math.PI),L:.5});u.Jt.Kt(h),u.Jt.Kt(s),u.Jt.Kt(n),-1!==this.gi&&this.Si&&this.Si(this)}else this.Ii&&this.Ii(this);this.Ai&&this.Ai(this)}},B.ws={vs:1,ds:2,ps:3,ys:4},B.ms=[{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:0,y:0},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],B.xs={bs:1,Ms:2,gs:3,ks:4,Os:5},B.Bh={Th:1,Nh:2,As:3,Is:4,Ss:5},B.Rh={right:1,bottom:2,left:4,top:8},B.Ds={width:40,Cs:20,Ps:20,oi:B.Bh.Th},B.js={width:85,Cs:20,Ps:20,Fs:5,oi:B.Bh.Nh},B.Es={width:80,Cs:20,Ps:20,Fs:10,oi:B.Bh.Th},B.Rs={width:40,Cs:20,Ps:20,oi:B.Bh.Th},B.mi=5,B.prototype=t(c.prototype,{Oh:function(t,i){var h,s,n,e,r,o,a=t,u=i;for(this.qi.ni(a*this.ji,u*this.ji),this.qi.hi(new H({x:0*this.ji,y:0*this.ji,w:a*this.ji,h:u*this.ji,at:X.u.o})),this.qi.hi(new H({x:1*this.ji,y:1*this.ji,w:(a-2)*this.ji,h:(u-2)*this.ji,at:X.u.e})),this.zi=a,this.Hi=u,h=0;h<a;h+=1)this.Xs(h,0,B.ws.ds),this.Xs(h,u-1,B.ws.ds);for(h=0;h<u;h+=1)this.Xs(0,h,B.ws.ds),this.Xs(a-1,h,B.ws.ds);for(var c,f,l,w,v,d,p,y=Q.S(0,2),m={left:1,top:1,right:a-1,bottom:u-1,Ys:y},x=[m],b=[],M=[],g=0,k=0,O=this.Ei,A=this.Ri,I=this.Fi;0<x.length&&g<1e4;)if(f=Y({},m=x.shift()),l=null,p=0===(y=m.Ys)?(d="right","left"):(d="bottom","top"),0===k?(v=Y({},m),3,l=Y({},m),c=Q.S(m[p]+O/2,m[d]-O/2),f[d]=c-this.Wi/2-1,l[p]=c+this.Wi/2+1,v[d]=c+this.Wi/2,v[p]=c-this.Wi/2,v.Qs=!0,b.push(v)):(l=Y({},m),c=Q.S(m[p]+O/2,m[d]-O/2),f[d]=c,l[p]=c+1),n=f.right-f.left,e=f.bottom-f.top,O<n&&A<e&&I<n*e?(f.Ys=0===k?y?0:1:e<n?0:1,x.push(f)):M.push(f),l&&(n=l.right-l.left,e=l.bottom-l.top,O<n&&A<e&&A<n*e?(l.Ys=0===k?y?0:1:e<n?0:1,x.push(l)):M.push(l)),g+=1,0===k&&0===x.length)for(k+=1,O=this.Yi,A=this.Qi,I=this.Xi,h=M.length-1;0<=h;h-=1)n=(f=M[h]).right-f.left,e=f.bottom-f.top,O<n&&A<e&&I<n*e&&(f.Ys=e<n?0:1,x.push(f),M.splice(h,1));if(1e4<=g)throw new Error("Infinite loop in partitioning");for(this.Bi=b,h=0;h<b.length;h+=1)for(n=(v=b[h]).left;n<v.right;n+=1)for(e=v.top;e<v.bottom;e+=1)this.Xs(n,e,B.ws.vs,v);var S,D=[];for(h=0;h<M.length;h+=1){for(m=M[h],this.qi.hi(new H({x:(m.left-1)*this.ji,y:(m.top-1)*this.ji,w:(m.right-m.left+2)*this.ji,h:(m.bottom-m.top+2)*this.ji,at:X.u.o})),this.qi.hi(new H({x:m.left*this.ji,y:m.top*this.ji,w:(m.right-m.left)*this.ji,h:(m.bottom-m.top)*this.ji,at:X.u.r})),n=m.left-1;n<m.right+1;n+=1)this.Xs(n,m.top-1,B.ws.ds),this.Xs(n,m.bottom,B.ws.ds);for(e=m.top-1;e<m.bottom+1;e+=1)this.Xs(m.left-1,e,B.ws.ds),this.Xs(m.right,e,B.ws.ds);for(w=new T(this._i++,m),n=m.left;n<m.right;n+=1)for(e=m.top;e<m.bottom;e+=1)this.Xs(n,e,B.ws.ys,w);D.push(w)}for(g=0;0<D.length&&g<1e4;){x=g<M.length?b:this.Ti;var C=[];for((S=Y({},m=D.shift())).top+=1,S.bottom-=1,S.left-=2,S.right+=2,s=0;s<x.length;s+=1)f=x[s],W.F(S,f)&&C.push(f);for(S.left=m.left+1,S.right=m.right-1,S.top=m.top-2,S.bottom=m.bottom+2,s=0;s<x.length;s+=1)f=x[s],C.indexOf(f)<0&&W.F(S,f)&&C.push(f);if(0<C.length){var P=0;f=Q.D(C),S.left=m.left,S.top=m.top,S.right=m.right,S.bottom=m.bottom;var j=!1,F=this.ji/2,E=this.ji/2;S.left-=2,W.F(S,f)&&(j=!0,r=n=f.right,o=(e=Q.S(Math.max(m.top,f.top),Math.min(m.bottom,f.bottom)-1))+1,F+=2*this.ji,P=B.Rh.left),j||(S.left=m.left,S.top-=2,W.F(S,f)&&(j=!0,r=(n=Q.S(Math.max(m.left,f.left),Math.min(m.right,f.right)-1))+1,o=e=f.bottom,E+=2*this.ji,P=B.Rh.top)),j||(S.top=m.top,S.right+=2,W.F(S,f)&&(j=!0,r=n=f.left-1,o=(e=Q.S(Math.max(m.top,f.top),Math.min(m.bottom,f.bottom)-1))+1,F+=2*-this.ji,P=B.Rh.right)),j||(r=(n=Q.S(Math.max(m.left,f.left),Math.min(m.right,f.right)-1))+1,o=e=f.top-1,E+=2*-this.ji,P=B.Rh.bottom),this.Xs(n,e,B.ws.ps),this.Xs(r,o,B.ws.ps),m.vi={x:(n+r)/2*this.ji+F,y:(e+o)/2*this.ji+E},m.ci=!0,this.Ti.push(m),m.li||(m.li=0),f.li||(f.li=0),m.li|=P;var R=P<<2;8<R&&(R>>=4),f.li|=R}else m.ci=!1,D.push(m);g+=1}if(1e4<=g)throw new Error("Infinite loop in door placements")},Ih:function(){var t,i,h,s=this.Bi;for(h=0;h<this.Ti.length;h+=1)i=this.Ti[h],t=new H({x:Math.floor((i.left-.5)*this.ji),y:Math.floor((i.top-.5)*this.ji),w:Math.floor((i.right-i.left+1)*this.ji),h:Math.floor((i.bottom-i.top+1)*this.ji)}),this.hi(t),i.fi=t;var n=new c;for(this.hi(n),h=0;h<s.length;h+=1)i=s[h],t=new H({x:Math.floor((i.left-.5)*this.ji),y:Math.floor((i.top-.5)*this.ji),w:Math.floor((i.right-i.left+1)*this.ji),h:Math.floor((i.bottom-i.top+1)*this.ji)}),n.hi(t),i.fi=n},Ah:function(){var t,i,h=this.Ti.slice(),s=Q.C(h);for(s.oi=B.xs.bs,this.Ws(s),this.Ni=s;0<h.length;)t=[],200<(i=((s=Q.C(h)).right-s.left)*(s.bottom-s.top))&&t.push(B.xs.gs),100<=i&&t.push(B.xs.Os),i<100&&t.push(B.xs.ks),100<=i&&(0===this.Li.length||Math.random()<.1)&&t.push(B.xs.Ms),s.oi=Q.D(t),s.oi===B.xs.Ms&&this.Li.push(s),this.Ws(s)},zs:function(i,h,t,s){var n,e,r=s.width/2,o=s.Cs/2,a=s.Ps/2,u=[];if(n=[new z(i-o-a/2,h,o+a/2,r)],s.oi===B.Bh.Nh){var c=(s.width-s.Fs)/2;u.push(new k(s.oi,i-o,h-c/2-s.Fs/2,s.Cs,c,s.Ps)),u.push(new k(s.oi,i-o,h+c/2+s.Fs/2,s.Cs,c,s.Ps))}else u.push(new k(s.oi,i-o,h,s.Cs,s.width,s.Ps));return e=t===B.Rh.left?180:t===B.Rh.top?270:t===B.Rh.right?0:90,n.forEach(function(t){t.Et({x:i,y:h},e)}),u.forEach(function(t){t.us({x:i,y:h},e)}),[n,u]},Ws:function(i){var t=null,h={left:i.left*this.ji,top:i.top*this.ji,right:i.right*this.ji,bottom:i.bottom*this.ji};i.li&B.Rh.left&&(h.left+=1.5*this.ji),i.li&B.Rh.top&&(h.top+=1.5*this.ji),i.li&B.Rh.right&&(h.right-=1.5*this.ji),i.li&B.Rh.bottom&&(h.bottom-=1.5*this.ji),i.oi===B.xs.Os?t=this.Hs(h):i.oi===B.xs.ks?t=this.Ts(h,i):i.oi===B.xs.gs?t=this.Bs(h,i):i.oi===B.xs.Ms&&(t=this.Ns(h,i)),t&&(i.ui=t[0],i.ai=t[1]),i.ai.forEach(function(t){t.pi=i,t.bi.forEach(function(t){this.hi(t)},this)},this);var s=(i.left+i.right)/2*this.ji,n=(i.top+i.bottom)/2*this.ji,e=new l({dt:["Unknown","Mailroom","Lobby","Bullpen","Private","Open"][i.oi],x:s,y:n,pt:"center",yt:"middle",font:"36px Arial"});this.hi(e)},Hs:function(t,i){var h,s,n=t.right-t.left,e=t.bottom-t.top,r=[],o=[],a=[B.Ds],u=e<n?e:n;B.js.width+100>=u&&a.push(B.js);var c,f,l,w,v,d=Q.D(a),p=d.Cs+50,y=d.width/2,m=d.Ps/2,x=Q.S(0,2);if(e<n){for(l=Math.floor(n/p),w=Math.random()*(n-l*p),f=t.top+y;f+y<t.bottom;){for(h=0;h<l;h+=1)c=t.left+h*p+x*(d.Cs+m)+w,s=this.zs(c,f,x?B.Rh.right:B.Rh.left,d),r=r.concat(s[0]),o=o.concat(s[1]);f+=50+d.width}var b=null,M=null;r.forEach(function(t){(!b||t.y<b.y)&&(b=t),(!M||t.y>M.y)&&(M=t)}),b&&M?(v=Math.random()*(e-(M.y+M.z-(b.y-b.z))),r.forEach(function(t){t.y+=v}),o.forEach(function(t){t.bi.forEach(function(t){t.y+=v}),t.yi.y+=v})):console.log("Empty room")}else{for(l=Math.floor(e/p),w=Math.random()*(e-l*p),c=t.left+y;c+y<t.right;){for(h=0;h<l;h+=1)f=t.top+h*p+x*(d.Cs+m)+w,s=this.zs(c,f,x?B.Rh.bottom:B.Rh.top,d),r=r.concat(s[0]),o=o.concat(s[1]);c+=50+d.width}var g=null,k=null;r.forEach(function(t){(!g||t.x<g.x)&&(g=t),(!k||t.x>k.x)&&(k=t)}),k&&g?(v=Math.random()*(n-(k.x+k.W-(g.x-g.W))),r.forEach(function(t){t.x+=v}),o.forEach(function(t){t.bi.forEach(function(t){t.x+=v}),t.yi.x+=v})):console.log("Empty room")}return[r,o]},Ts:function(t,i){var h,s,n,e,r=this.Ls(i),o=B.Es,a=o.Cs+o.Ps/2,u=o.width/2,c=a+o.Fs;return r===B.Rh.left||r===B.Rh.right?(n=t.top+u,s=(e=t.bottom-u)<=n?(t.top+t.bottom)/2:Q.I(n,e)):(n=t.left+u,h=(e=t.right-u)<=n?(t.left+t.right)/2:Q.I(n,e)),r===B.Rh.right?h=t.left+c:r===B.Rh.left?h=t.right-c:s=r===B.Rh.bottom?t.top+c:t.bottom-c,this.zs(h,s,r,o)},Bs:function(t,i){var h,s,n,e=t.right-t.left,r=t.bottom-t.top;n=r<e?(h=e,s=r,0):(h=r,s=e,1);var o,a,u,c,f,l,w,v,d,p,y,m,x=Math.floor((s-30)/130),b=Math.floor((h-30)/280),M=(s-30)%130-30,g=(h-30)%280-30,k=Math.floor(M/50),O=Math.floor(g/50),A=[],I=[];0<k&&(x+=1),0<O&&(b+=1);var S=[],D=[];for(o=0;o<x;o+=1)for(l=130*o+30,d=0<k&&o===x-1?k:2,a=0;a<b;a+=1)for(m=new z((f=280*a+30)+50*(p=0<O&&a===b-1?O:5)/2,l+50,50*p/2,2),D.push(m),u=0;u<d;u+=1){for(v=l+50*u,y=u%2==0?B.Rh.top:B.Rh.bottom,c=0;c<p;c+=1)(m=new z((w=f+50*c)+25,v+25,25,25)).Vs=y,S.push(m),m=new z(w,v+25,2,25),D.push(m);m=new z(f+50*p,v+25,2,25),D.push(m)}var C,P,j=(t.left+t.right)/2,F=(t.top+t.bottom)/2,E={x:h/2,y:s/2},R=j-E.x,X=F-E.y;return C=0===n?[0,180]:[90,270],P=Q.D(C),S.forEach(function(t){if(0!==P){t.Et(E,P);var i,h=Math.round(P/90);for(i=0;i<h;i+=1)t.Vs<<=1,8<t.Vs&&(t.Vs=1)}t.x+=R,t.y+=X;var s,n,e=Q.P(15^t.Vs);n=e===B.Rh.right?(s=t.x+t.W,t.y):e===B.Rh.bottom?(s=t.x,t.y+t.z):e===B.Rh.left?(s=t.x-t.W,t.y):(s=t.x,t.y-t.z);var r=this.zs(s,n,e,B.Rs);A=A.concat(r[0]),I=I.concat(r[1])},this),D.forEach(function(t){0!==P&&t.Et(E,P),t.x+=R,t.y+=X,A.push(t.jt()),I.push({pi:null,oi:B.Bh.Ss,bi:[new H(Y(t.Xt(),{at:"black"}))]})}),[A,I]},Ns:function(t,i){this.Ls(i);return[[],[]]},Ls:function(t){var i,h,s=0,n=[];for(i=1;i<=8&&!s;i<<=1)i===t.li?s=i:0<(t.li&i)&&n.push(i);if(s||(5===t.li?s=Q.D([1,4]):10===t.li&&(s=Q.D([2,8]))),!s)for(h=1;h<=8&&!s;h<<=1)i=h,i|=8<h<<1?1:h<<1,(i|=h>>1<1?8:h>>1)===t.li&&(s=h);return s||(s=Q.D(n)),s},_s:function(t,i,h,s){var n=null,e=null,r=this.ji/2,o=null,a=!0,u=0,c=0;switch(h){case B.ws.ds:e=new z(t*this.ji+r,i*this.ji+r,r,r),a=!1;break;case B.ws.vs:a=!0;break;case B.ws.ps:n=X.u.e,a=!0,u=-t*this.ji,c=-i*this.ji;break;case B.ws.ys:a=!0}return n&&(o=new H({x:t*this.ji,y:i*this.ji,w:this.ji,h:this.ji,at:n,ct:u,ft:c})),{oi:h,qs:o,Ui:e,pi:s,Us:a}},Gs:function(t,i){return this.Pi[t]&&this.Pi[t][i]?this.Pi[t][i]:null},Xs:function(t,i,h,s){this.Pi[t]||(this.Pi[t]={});var n=this.Pi[t][i];n&&n.qs&&this.si(n.qs),n=this._s(t,i,h,s),(this.Pi[t][i]=n).qs&&this.hi(n.qs)},Zs:function(t,i){return this.Gs(Math.floor(t/this.ji),Math.floor(i/this.ji))},Js:function(t,i){var h,s,n=[],e=Math.floor(t/this.ji),r=Math.floor(i/this.ji),o=null,a=B.ms;for(s=0;s<a.length;s+=1)h=a[s],(o=this.Gs(e+h.x,r+h.y))&&n.push(o);return n}}),O.prototype=t(c.prototype,{Ks:function(t){this.eh|=t,this.$s()},tn:function(t){this.eh^=t,this.$s()},$s:function(){this.$i.x=0,this.$i.y=0,this.eh&B.Rh.left&&(this.$i.x-=this.Ji),this.eh&B.Rh.right&&(this.$i.x+=this.Ji),this.eh&B.Rh.top&&(this.$i.y-=this.Ji),this.eh&B.Rh.bottom&&(this.$i.y+=this.Ji)},Fh:function(){this.Gi.gt(this.Ui.x,this.Ui.y),this.Ui.gt(this.x,this.y)},Gt:function(t){var i,h,s,n,e,r,o=1,a=0,u=0;s=this.ki.Zs(this.x,this.y),this.$s(),(this.$i.x||this.$i.y)&&(this.vt.angle=W.R(this.$i));var c=null;for(this.nh&&s&&s.pi&&s.pi.ui&&(c=s.pi.ui),e=0;e<this.Ki;e+=1){if(o=1,c)for(this.in(t),h=0;h<c.length;h+=1)(n=this.hn(c[h],t))<o&&(o=n,a=this.ih.x,u=this.ih.y);this.x+=this.$i.x*t*o/this.Ki,this.y+=this.$i.y*t*o/this.Ki,o<1&&(r=(this.$i.x*u+this.$i.y*a)*(1-o),this.$i.x=r*u,this.$i.y=r*a),this.Fh()}if(o<1&&(r=(this.$i.x*u+this.$i.y*a)*(1-o),this.x+=r*u*t/this.Ki,this.y+=r*a*t/this.Ki,this.Fh()),s&&s.pi&&s.pi.ai){var f=s.pi.ai,l=!1;for(h=0;h<f.length;h+=1)if(f[h].oi===B.Bh.Th||f[h].oi===B.Bh.Nh){var w=f[h];w.wi&&w.yi.Ct(this.Ui)&&w.ls(this),l=l||w.wi}s.pi.wi=l}if(this.sh)for(i=this.ki.Js(this.x,this.y),h=0;h<i.length;h+=1)!(s=i[h]).Us&&s.Ui&&this.sn(s.Ui);if((s=this.ki.Zs(this.x,this.y))&&s.pi&&this.hh!==s.pi){var v=this.hh;if(this.hh=s.pi,v&&(!v.Qs||!this.hh.Qs)){v.nn&&(v.nn.Zt(),v.nn=null);var d=new p({T:v.fi,B:"alpha",from:0,N:1,L:.5});v.nn=d,this.Oi.lh.ah.Kt(d)}this.hh.nn&&(this.hh.nn.Zt(),this.hh.nn=null),this.hh.fi.alpha=0}},sn:function(t){var i,h;t.Ct(this.Ui)&&(i=this.Ui.x-t.x,h=this.Ui.y-t.y,Math.abs(i)>Math.abs(h)?this.x=0<i?t.At()+this.Ui.W+1:t.kt()-this.Ui.W-1:this.y=0<h?t.It()+this.Ui.z+1:t.Ot()-this.Ui.z-1,this.Fh())},hn:function(t,i){if(!this.Zi.Ct(t))return this.ih.x=0,this.ih.y=0,1;var h,s,n,e,r,o,a,u;n=0<this.$i.x?(h=t.x-t.W-(this.Ui.x+this.Ui.W),t.x+t.W-(this.Ui.x-this.Ui.W)):(h=t.x+t.W-(this.Ui.x-this.Ui.W),t.x-t.W-(this.Ui.x+this.Ui.W)),e=0<this.$i.y?(s=t.y-t.z-(this.Ui.y+this.Ui.z),t.y+t.z-(this.Ui.y-this.Ui.z)):(s=t.y+t.z-(this.Ui.y-this.Ui.z),t.y-t.z-(this.Ui.y+this.Ui.z)),a=0===this.$i.x?(r=-Number.MAX_VALUE,Number.MAX_VALUE):(r=h/(this.$i.x*i/this.Ki),n/(this.$i.x*i/this.Ki)),u=0===this.$i.y?(o=-Number.MAX_VALUE,Number.MAX_VALUE):(o=s/(this.$i.y*i/this.Ki),e/(this.$i.y*i/this.Ki));var c=Math.max(r,o);return Math.min(a,u)<c||r<0&&o<0||1<r||1<o?(this.ih.x=0,this.ih.y=0,1):(o<r?(this.ih.x=h<0?1:-1,this.ih.y=0):(this.ih.x=0,this.ih.y=s<0?1:-1),c)},in:function(t){var i=this.$i.x*t/this.Ki,h=this.$i.y*t/this.Ki,s=0<this.$i.x?this.Ui.x-this.Ui.W:this.Ui.x-this.Ui.W+i,n=0<this.$i.y?this.Ui.y-this.Ui.z:this.Ui.y-this.Ui.z+h,e=0<this.$i.x?this.Ui.x+this.Ui.W+i:this.Ui.x+this.Ui.W,r=0<this.$i.y?this.Ui.y+this.Ui.z+h:this.Ui.y+this.Ui.z;this.Zi.x=(s+e)/2,this.Zi.y=(n+r)/2,this.Zi.W=(e-s)/2,this.Zi.z=(r-n)/2}}),A.prototype=t(H.prototype,{}),I.prototype={Ut:function(){this.Di=!0,setTimeout(this.en.bind(this),1e3*this.oh)},en:function(){if(!this.Di)return!1;var t,i;t=new p({T:this.ch,B:"y",from:5,N:15,L:.5,V:p.q.zt,G:function(){this.ah.Kt(i)}.bind(this)}),i=new p({T:this.ch,B:"y",from:15,N:5,L:.5,V:p.q.zt,G:this.en.bind(this)}),this.ah.Kt(t)},rn:function(){this.Di=!1,this.tt.forEach(function(t){t.Zt()})}},S.prototype=t(c.prototype,{create:function(){},v:function(){},zh:function(t){this.wh.push(t)},Gt:function(t){for(var i=0;i<this.wh.length;i+=1)this.wh[i](t)},ti:function(t){this.ii(t)}}),D.prototype=t(S.prototype,{Qh:function(t){this.Xh[t]&&this.jh.Ks(this.Xh[t])},Wh:function(t){this.Xh[t]&&this.jh.tn(this.Xh[t])},v:function(){this.Yh.v()},Hh:function(t){this.jh.Gt(t),this.Ph||(this.ki.x=Math.floor(w.width/2-this.jh.x*this.ki.it),this.ki.y=Math.floor(w.height/2-this.jh.y*this.ki.ht)),this.on()},on:function(){var t,i,h,s,n,e,r;for(t=0;t<this.vh.length;t+=1)(i=this.vh[t]).wi&&(s=this.mh[i.ri],this.jh.hh!==i?(s.st=!0,e=i.vi.x-this.jh.x,r=i.vi.y-this.jh.y,n=Math.sqrt(e*e+r*r),h=Math.atan2(r,e),s.angle=h,s.Vh(n)):s.st=!1)},Ch:function(){var t,i,h,s=this.ki.Ti.filter(function(t){return t.ai&&t.ai.length&&t.ai.some(function(t){return t.oi===B.Bh.Th||t.oi===B.Bh.Nh})}),n=Q.S(w.minMailableRooms,Math.max(w.minMailableRooms+1,Math.floor(s.length*w.maxMailableRoomRate))),e=[];for(t=0;t<n;t+=1)i=Q.C(s),h=j("white"),this.Sh.hi(h),this.mh[i.ri]=h,i.wi=!0,e.push(i);var r=e.reduce(C,[]),o=s.reduce(C,[]),a=Q.S(w.minMissingPeople,w.maxMissingPeople+1);a>r.length&&(a=r.length);var u,c,f=[],l=[];for(t=0;t<a;t+=1)u=Q.C(r),c=Q.C(o),u.Mi=c.ri,c.gi=u.ri,f.push(u),l.push(c),u.Ii=this.an.bind(this),c.Si=this.un.bind(this),c.Ai=this.cn.bind(this);r.forEach(function(t){t.Ai=this.cn.bind(this)},this),r.forEach(P),f.forEach(P),l.forEach(P),this.vh=e,this.dh=r,this.ph=f,this.yh=l,this.fn=r.concat(l),this.Dh.dt="Mail left: "+this.fn.length},cn:function(t){console.log("delivered to",t.ri);var i=this.fn.reduce(function(t,i){return t+(i.wi?1:0)},0);this.Dh.dt="Mail left: "+i,i<=0&&console.log("finished!")},an:function(i){var t=this.yh.find(function(t){return t.ri===i.Mi});if(t){if(t.wi&&-1===this.vh.indexOf(t.pi)){t.pi.wi=!0,t.Lh(!0),this.vh.push(t.pi);var h=j("blue");this.mh[t.pi.ri]=h,this.Sh.hi(h)}}else console.log("desk "+i.Mi+" not found")},un:function(i){var t=this.ph.find(function(t){return t.ri===i.gi});t&&t.wi&&t.ls(this.jh)}}),F.prototype=t(S.prototype,{v:function(){this.$h.forEach(function(t){t.rn()}),clearInterval(this.ts),this.Yh.v()},Hh:function(t){this.$+=t;var i,h,s=this.$%this._h/this._h;for(this.s.it=1+.05*Math.cos(s*Math.PI*2),this.s.ht=1+.05*Math.sin(s*Math.PI*2),this.Jh.ct-=200*t,this.Kh.x-=200*t,i=0;i<this.Zh.length;i+=1)(h=this.Zh[i]).x+this.Kh.x<-200&&(this.Kh.si(h),this.Zh.splice(i,1),i-=1);this.Gh-=t,this.Gh<=0&&(h=new A({x:-this.Kh.x+this.s.x,y:this.s.y,it:4,ht:4,angle:Q.I(0,2*Math.PI)}),this.Zh.push(h),this.Kh.hi(h),this.Gh=Q.I(this.qh,this.Uh))}}),E.prototype=t(S.prototype,{create:function(){Object.entries(X.i).forEach(function(t){var i=new Image;i.onload=this.ln.bind(this),i.src=t[1],this.i.push(i),X.a[t[0]]=i},this)},ln:function(t){if(!this.ss){var i=this.i.reduce(function(t,i){return(i.complete?1:0)+(t||0)},0);this.ns.dt=Math.floor(i/this.i.length*100)+"%",i>=this.i.length&&this.wn()}},wn:function(){this.ss||(Object.entries(X.n).forEach(function(t){X.u[t[0]]=this.lh.bt.createPattern(X.a[t[0]],t[1])},this),this.ss=!0,this.lh.hs(new F(this.lh)))}}),R.prototype={as:function(){this.os(),setTimeout(function(){this.os()}.bind(this),100)},os:function(){var t,i,h=r.getComputedStyle(o.c("root")),s=parseInt(h.width,10),n=parseInt(h.height,10),e=this.xt.width/this.xt.height;s/n<e?i=(t=s)/e:t=(i=n)*e,this.xt.style.width=Math.floor(t)+"px",this.xt.style.height=Math.floor(i)+"px",this.xt.style.position="absolute",this.xt.style.left="50%",this.xt.style.top="50%",this.xt.style.marginLeft=Math.floor(-t/2)+"px",this.xt.style.marginTop=Math.floor(-i/2)+"px"},hs:function(t){this.Oi&&this.Oi.v(),(this.Oi=t).create()},Gt:function(t){var i=(t-this.$)/1e3;0<i&&(.2<i&&(i=.2),this.Oi.Gt(i),this.Oi.ti(this.bt),this.ah.Gt(i),this.$=t),requestAnimationFrame(this.Gt)}},r.game=new R}(window,document);